{
    "description": {
        "name": "AOM_optimization",
        "creator": "Sr lab",
        "control": "Artiq",
        "version": "5.71"
    },
    "exp_param": [
        {
            "name": "2D MOT optimization",
            "2d_detuning": [
                80,
                85,
                90,
                95,
                100,
                105,
                110
            ],
            "3d_detuning": [
                80,
                85,
                90,
                95,
                100,
                105,
                110
            ],
            "push_detuning": 80,
            "measurements": [
                "loading_flux1",
                "2d_optimum",
                "3d_optimum"
            ]
        },
        {
            "name": "Push optimization",
            "2d_detuning": "2d_optimum",
            "3d_detuning": "3d_optimum",
            "push_detuning": [
                75,
                80,
                85,
                90
            ],
            "measurements": [
                "loading_flux2"
            ]
        }
    ],
    "aliases": {
        "aom_2dmot": {
            "board": 1,
            "channel": 1
        },
        "aom_3dmot": {
            "board": 1,
            "channel": 2
        },
        "aom_push": {
            "board": 1,
            "channel": 3
        }
    },
    "defaults": {
        "2d_detuning": [
            110,
            "MHz"
        ],
        "3d_detuning": [
            110,
            "MHz"
        ],
        "push_detuning": [
            80,
            "MHz"
        ],
        "2d_amplitude": [
            0.8,
            "ratio"
        ],
        "3d_amplitude": [
            0.5,
            "ratio"
        ],
        "push_amplitude": [
            0.2,
            "ratio"
        ],
        "2d_RF": [
            true,
            "boolean"
        ],
        "3d_RF": [
            true,
            "boolean"
        ],
        "push_RF": [
            true,
            "boolean"
        ],
        "PD_delay": [
            10,
            "ms"
        ]
    },
    "logic": [
        {
            "group": "Initialization",
            "events": [
		[
                    {
			"eventType": "DDS",
			"alias": "aom_2dmot",
			"frequency": "2d_detuning",
			"amplitude": "2d_amplitude",
			"RF_switch": "2d_RF",
			"other": [
                            {
				"attenuation": 1.0
                            }
			]
                    }
		],
		[
                    {
			"eventType": "DDS",
			"alias": "aom_3dmot",
			"frequency": "3d_detuning",
			"amplitude": "3d_amplitude",
			"RF_switch": "3d_RF",
			"other": [
                            {
				"attenuation": 1.0
                            }
			]
                    }
		],
		[
                    {
			"eventType": "DDS",
			"alias": "push",
			"frequency": "push_detuning",
			"amplitude": "push_amplitude",
			"RF_switch": "push_RF",
			"other": [
                            {
				"attenuation": 1.0
                            }
			]
                    }
		]
            ]
        },
	{
	    "group": "Photodetector",
	    "events": [
		[
		    {
			"eventType": "TTL",
			"alias": "photodetector",
			"type": "single",
			"delay": "PD_delay",
			"other": [
			    {
				"attenuation": 1.0
			    }
			]
		    }
		]
	    ]
	},
        {
            "group": "Turn off AOM",
            "events": [
		[
                    {
			"eventType": "DDS",
			"alias": "aom_2dmot",
			"RF_switch": false
                    },
                    {
			"eventType": "DDS",
			"alias": "aom_3dmot",
			"RF_switch": false
                    },
                    {
			"eventType": "DDS",
			"alias": "push",
			"RF_switch": false
                    }
		]
            ]
        }
    ]
}
