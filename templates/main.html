{% extends "base.html" %}
{% block content %}
    <h1>Viewer</h1><hr class="main">
    <div class="row" id="channel-options">
        <button onclick="$('#file-upload').trigger('click');">Upload JSON</button>
        <form id="upload-json" name="upload-json" method="post" enctype="multipart/form-data">
            <input type="file" name="file" id="file-upload" style="display: none;" onchange="form.submit();"/>
        </form>
        <select id="json">
            <option value="none">None</option>
            {%- for id, filename in json_options.items() %}
                <option value="{{ id }}">{{ filename }}</option>
            {%- endfor %}
        </select>
        <button id="remove-json">Remove JSON</button>
        <p>Selected channels: <span id="selected-channels">None</span></p>
    </div>
    <div class="row" id="channels">
        <div class="column" style="width: 10%;">
            <div id="channel-label-container">
                <div class='channel-label' id='label-ch0'><br/>
                    ch0<br/>
                    blocks: <span class='block-cnt'>0</span></br>
                    errors: <span class='err-cnt'>0</span>
                </div>
            </div>
        </div>
        <div class="column" style="width: 90%;">
            <div id="channel-container">
                <div class="channel" id="ch0"></div>
            </div>
        </div>
    </div>
{% endblock %}