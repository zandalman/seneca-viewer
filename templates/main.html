{% extends "base.html" %}
{% block content %}
    <h1>Viewer</h1><hr class="main">
    <div id="block-info">
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <div id="block-params"></div>
            </tbody>
        </table>
    </div>
    <div class="row" id="channel-options">
        <button onclick="$('#file-upload').trigger('click');">Upload JSON</button>
        <form id="upload-json" name="upload-json" method="post" enctype="multipart/form-data">
            <input type="file" name="file" id="file-upload" style="display: none;" onchange="form.submit();"/>
        </form>
        <button id="remove-json">Remove JSON</button>
        <button id="view-code">View Code</button>
        <label for="json">JSON select: </label>
        <select id="json" name="json">
            {%- for id, filename in json_options.items() %}
                <option value="{{ id }}">{{ filename }}</option>
            {%- endfor %}
        </select><br><br>
        <label for="ch-select">Channel select: </label>
        <select id="ch-select" name="channels[]" multiple="multiple"></select>
        <label for="ev-select">Event select: </label>
        <select id="ev-select" name="events[]" multiple="multiple"></select>
    </div>
    <div id="channels">
        <i class="material-icons button" id="fullscreen">fullscreen</i>
        <div class="row">
            <div class="column left" style="width: 10%; height: 3em;">
                <p>Events</p>
            </div>
            <div class="column" style="width: 90%;" id="event-names"></div>
        </div>
        <div id="signals">
            <div class="row">
                <div class="column left" style="width: 10%;">
                    <div id="channel-label-container"></div>
                </div>
                <div class="column" style="width: 90%;">
                    <div id="channel-container"></div>
                </div>
            </div>
        </div>
    </div>
    <div id="code-dialog">
        <code id="json-code"></code>
    </div>
{% endblock %}